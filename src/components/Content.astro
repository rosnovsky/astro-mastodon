---
import sanitize from 'sanitize-html';
import Media from './Media.astro';
import { EmbedData } from '../types';

type Props = {
  data: EmbedData;
};

const { data } = Astro.props;

const content = sanitize(data.content, {
  allowedTags: ['p', 'a', 'b', 'i', 'em', 'strong'],
  allowedAttributes: {
    a: ['href'],
  },
});

---
<div class="w-full my-6">
  <div class="prose" set:html={content} />
  <Media attachments={data.media_attachments} card={data.card} />
</div>
